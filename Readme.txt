Краткое пояснение по переменным, которые обрабатываются программой и могут быть выведены в отчётах устройств.

Устройство - Smart Badge Вега: (приходит на порт 2 LoRaWAN!!!)
type_packet_decode - тип пакета (без декода type_packet)
reason_format_packet_decode - причина формирования пакета (без декода reason_form_packet)
battery - заряд батареи в процентах
unix_time - время с эпохи unix
timestamp - преобразование unix_time в нормальный вид формата гггг-мм-дд чч:мм:сс.мсмсмсмсмсмс (может разниться из-за отсутствия мс)
temperature - температура в градусах
state_string - состояния бэйджа (без декода state)
ugol_otkl_vert - угол отклонения от вертикали

Дальше зависит от типа пакета:
! если тип пакета 1 (GPS/GLONASS) !
latitude - широта
longtitude - долгота
course - курс в градусах
speed - скорость в км/ч
height - высота над ср. уровнем моря
count_sputnik - количество видимых спутников
count_decision_sputnik - количество спутников решения
state_tag_SIZ_decode - состояние меток СИЗ (без декода state_tag_SIZ)

! если тип пакета 2 (BLE-метки) !
type_ble_beacon - тип ble-маяка
ble_beacon - наименование ble-маяка и его информационные параметры
rssi_etalon - эталонное значение RSSI
tx_power - значение TX_POWER
state_tag_SIZ_decode - состояние меток СИЗ (без декода state_tag_SIZ)

! если тип пакета 5 (определение 3-х BLE-меток Вега) !
mac_tag_{'подставить из списка'} (one/two/three) - mac № 1/2/3 ble-метки
battery_tag_{'подставить из списка'} (one/two/three) - заряд № 1/2/3 ble-метки
temperature_tag_{'подставить из списка'} (one/two/three) - температура на № 1/2/3 ble-метки
humidity_tag_{'подставить из списка'} (one/two/three) - влажность на № 1/2/3 ble-метки
rssi_etalon_tag_{'подставить из списка'} (one/two/three) - эталонный RSSI на № 1/2/3 ble-метки
tx_power_tag_{'подставить из списка'} (one/two/three) - значение TX_POWER на № 1/2/3 ble-метки
state_tag_SIZ_decode - состояние меток СИЗ (без декода state_tag_SIZ)

= = =

Устройство - Smart-WB0101 Вега (кнопка спасения): (приходит на порт 2 LoRaWAN!!!)
operating_mode_decode - режим работы (без декода operating_mode)

= = =

Устройство - ТС-12 Вега (тестер сети): (приходит на порт 4 LoRaWAN!!!)
bits_presence - биты присутствия данных в пакете от ус-ва (первый байт данных)
reason_send_packet - причина отправки пакета
coordinates - навигационные данные полученные с ус-ва (при наличии бита присутствия) [в коде присутствуют промежуточные вычисления, об наименовании этих переменных смотреть в код!!!]
count_input_packets - количество принятых пакетов (при наличии бита присутствия)
count_output_packets - количество отправленных пакетов (при наличии бита присутствия)
battery - информация о заряде батареи в мВ (возможно неверное интерпретирование) (при наличии бита присутствия) [в коде присутствуют промежуточные вычисления, об наименовании этих переменных смотреть в код!!!]
rssi - информация о RSSI (при наличии бита присутствия (общий для RSSI и SNR))
snr - информация о SNR (при наличии бита присутствия, возможно неверное интерпретирование, ибо написано в дополнительном коде (каком?) (общий для RSSI и SNR))

= = =

Устройство Smart-MS0101 Вега (датчик движения): (приходит на порт 2 LoRaWAN!!!)
type_packet_decode - тип пакета
battery - заряд батареи в процентах
main_settings_decode - основные параметры ус-ва (без декода main_settings)
temperature - температура в градусах (изначально умноженная на 10!)
reason_send_packet_decode - причина отправки пакета (без декода reason_send_packet)
unix_time - время с эпохи unix
timestamp - преобразование unix_time в нормальный вид формата гггг-мм-дд чч:мм:сс.мсмсмсмсмсмс (может разниться из-за отсутствия мс)

= = =

Устройство СИ-12 Вега (счетчик импульсов): (приходит на порт 2 LoRaWAN!!!) (пока только для 1 и 2 типов пакета!!!)
type_packet_decode - тип пакета (без декода type_packet)
battery - заряд батареи в процентах
main_settings_decode - основные параметры ус-ва (без декода main_settings)
unix_time - время с эпохи unix
timestamp - преобразование unix_time в нормальный вид формата гггг-мм-дд чч:мм:сс.мсмсмсмсмсмс (может разниться из-за отсутствия мс)
temperature - температура в градусах
readings_entrance_{'подставить из списка'}_decode (one/two/three/four) - показания на входах 1,2,3,4 (без декода readings_entrance_{'подставить из списка'} (one/two/three/four)

= = =

Устройство Smart-HS0101 Вега (датчик влажности/температуры/открытия/ускорения): (приходит на порт 2 LoRaWAN!!!)
type_packet_decode - тип пакета (без декода type_packet)
battery - заряд батареи в процентах
timestamp_decode - время (для типа 1 - время снятия показаний, для остальных - время формирования пакета) [в коде присутствуют промежуточные вычисления, об наименовании этих переменных смотреть в код!!!]
temperature - температура в градусах (изначально умноженная на 10!)
humidity - влажность в процентах
state_sensore_{'подставить из списка'}_decode (one/two) - состояния датчиков открытия 1/2 (без декода state_sensore_{'подставить из списка'} (one/two)
ugol_otkl_vert - угол отклонения от вертикали в градусах
lower_threshold_humidity - нижний порог влажности в процентах
upper_threshold_humidity - верхний порог влажности в процентах
lower_threshold_temperature - нижний порог температуры в градусах
upper_threshold_temperature - верхний порог температуры в градусах

= = =

Устройство ТД-11 rev2 Вега (термодатчик): (приходит на порт 2 LoRaWAN)
type_packet_decode - тип пакета (без декода type_packet)
battery - заряд батареи в процентах
exceed_limits_decode - лимиты (прев./не прев.)
timestamp - время показаний
temperature_device - температура устройства, *C
temperature_ntc - температура датчика NTC, в пакете умноженная на 10, *C [в документации сказано, если в этом поле значение -1000, значит терморезистор не подключен к термодатчику, если же -1270, то это короткое замыкание терморезистора]
lower_threshold_temperature_sensor - нижний предел температуры датчика, *C
upper_threshold_temperature_sensor - верхний предел температуры датчика, *C
state_in_decode - состояние входа (без декода state_in)
indications_discr_in_decode - показатели на дискретном входе (без декода indications_discr_in)


[Документация обновлена: 16.04.2025]






